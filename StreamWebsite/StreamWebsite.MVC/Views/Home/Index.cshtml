@model StreamWebsite.MVC.ViewModels.MainPageViewModel
@{
    ViewBag.Title = "Index";
}

@*<div>
    <div id="streamModal" class="modal hide fade in"></div>
    <div id="twitchContainer"></div>
    <button class="btn btn-primary" onclick="twitchViewer('@Url.Action("TwitchView")')">Open Twitch</button>
</div>*@
<div class="page-header" style="text-align:center">
    <h1>@Model.StreamData.TotalFollowers Total Followers!</h1>
</div>
<div class="panel-primary col-md-3" style="height:600px;">
    <div class="panel-heading"><h3>Recent Followers</h3></div>
    <div class="panel panel-body"  style="height:500px; overflow:auto">
        @foreach (var item in Model.UserData)
        {
            <div class="well well-sm Content">
                @item.name
            </div>
        }
    </div>
</div>

<div class="col-md-9">
    @*<iframe height="600" width="1000" frameborder="0" scrolling="no" src="https://www.twitch.tv/xkillzx/v/69551475/embed" allowfullscreen></iframe>*@
    <iframe src="http://player.twitch.tv/?channel=xkillzx"
            height="600"
            width="1000"
            frameborder="0"
            scrolling="no"
            allowfullscreen="true"></iframe>
</div>

<script>

    function twitchViewer(actionPath) {
        $.get(actionPath, function (data) {
            $('#twitchContainer').html(data);

            $('#streamModal').modal('show');
        });
    }

    function testCall(actionPath) {
        $.get(actionPath, function (data) {
            alert(data);
        });
    }

    function userPage(actionPath) {
        $.post(actionPath, function (data) {
            if (data.success) {
                alert("Shit worked");
            }
        });
    }
</script>